// Generated by CoffeeScript 1.6.3
TodoMVC.module('TodoList', function(TodoList, App, Backbone, Marionette, $, _) {
  TodoList.Router = Marionette.Router.extend({
    appRouters: {
      '*filter': 'filterItems'
    }
  });
  TodoList.Controller = function() {
    this.TodoList = new App.Todos.TodoList();
  };
  _.extend(TodoList.Controller.prototype, {
    start: function() {
      this.showHeader(this.todoList);
      this.showFooter(this.todoList);
      this.showTodoList(this.todoList);
      this.todoList.fetch();
    },
    showHeader: function(todoList) {
      var header;
      header = new App.Layout.Header({
        collection: todoList
      });
      App.header.show(header);
    },
    showFooter: function(todoList) {
      var footer;
      footer = new App.Layout.Header({
        collection: todoList
      });
      App.footer.show(footer);
    },
    showTodoList: function(todoList) {
      App.main.show(new TodoList.Views.ListView({
        collection: todoList
      }));
    },
    filterItems: function(filter) {
      App.vent.trigger('todoList:filter', filter.trim() || '');
    }
  });
  TodoList.addInitializer(function() {
    new TodoList.Router({
      controller: controller
    });
    controller.start();
  });
});
